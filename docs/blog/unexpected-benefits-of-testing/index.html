<!DOCTYPE html>


    

<html lang="en-us" data-theme="dark">
<head>
    
        
<link rel="preload" href="../../unifont.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<meta charset="utf-8">
<meta name="HandheldFriendly" content="True">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="referrer" content="no-referrer-when-downgrade">

<title>Unexpected Benefits of Testing Code - </title>

<meta name="description" content="Matthew Carlson&rsquo;s blog post &ldquo;Fighting Distraction With Unit Tests&rdquo; inspired me to share some extra benefits of writing test code I&rsquo;ve discovered during my PhD program.
I&rsquo;m working on a weird project that&rsquo;s constantly changing as I try new things, and naturally, debugging and ensuring correctness was a nightmare. So I started writing tests, cursing myself for needing to write so much code I&rsquo;ll likely throw away soon. But as it turns out, testing can be pretty helpful in a few other ways:">





<link rel="icon" type="image/x-icon" href="../../favicon.ico">
<link rel="icon" type="image/png" href="../../favicon.png">
<link rel="apple-touch-icon-precomposed" href="../../favicon.png">


<style>
  body {
    visibility: hidden;
    opacity: 0;
  }
</style>

<noscript>
  <style>
    body {
      visibility: visible;
      opacity: 1;
    }
  </style>
</noscript>



    





    
    
        
    
    

    
        <link rel="stylesheet" href="../../css/style.min.740520b71589d9c68a01146d8ba6e3e1988ba89d902d9710500ede89f426a794.css" integrity="sha256-dAUgtxWJ2caKARRti6bj4ZiLqJ2QLZcQUA7eifQmp5Q=">
    





    

    





    
    
        
    
    

    
        <script src="../../js/script.min.74bf1a3fcf1af396efa4acf3e660e876b61a2153ab9cbe1893ac24ea6d4f94ee.js" type="text/javascript" charset="utf-8" integrity="sha256-dL8aP88a85bvpKzz5mDodrYaIVOrnL4Yk6wk6m1PlO4="></script>
    







<meta property="og:url" content="/blog/unexpected-benefits-of-testing/">
  <meta property="og:title" content="Unexpected Benefits of Testing Code">
  <meta property="og:description" content="Matthew Carlson’s blog post “Fighting Distraction With Unit Tests” inspired me to share some extra benefits of writing test code I’ve discovered during my PhD program.
I’m working on a weird project that’s constantly changing as I try new things, and naturally, debugging and ensuring correctness was a nightmare. So I started writing tests, cursing myself for needing to write so much code I’ll likely throw away soon. But as it turns out, testing can be pretty helpful in a few other ways:">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="blog">
    <meta property="article:published_time" content="2023-01-21T18:38:43-05:00">
    <meta property="article:modified_time" content="2023-01-21T18:38:43-05:00">
    <meta property="article:tag" content="Programming">






    
</head>
<body>
    <a class="skip-main" href="#main">Skip to main content</a>
    <div class="container">
        <header class="common-header"> 
            
                <div class="header-top">
    <h1 class="site-title">
    <a href="../../"></a>
</h1>
    <ul class="social-icons">





</ul>
</div>

    <nav>
        
        
        <a class="" href="../../" title="home"> ~jarbus</a>
        
        <a class="" href="../../blog/" title="posts">posts</a>
        
        <a class="" href="../../list" title="list">list</a>
        
        <a class="" href="../../index.xml" title="Rss">rss</a>
        
    </nav>






            
        </header>
        <main id="main" tabindex="-1"> 
            
    

    <article class="post h-entry">
        <div class="post-header">
            <header>
                <h1 class="p-name post-title">Unexpected Benefits of Testing Code</h1>

                
            </header>
        </div>
        
        <div class="content e-content">
            <p>Matthew Carlson&rsquo;s blog post <a href="https://matthewc.dev/musings/unit-tests/">&ldquo;Fighting Distraction With Unit Tests&rdquo;</a> inspired me to share some extra benefits of writing test code I&rsquo;ve discovered during my PhD program.</p>
<p>I&rsquo;m working on a <a href="https://github.com/jarbus/evotrade">weird project</a> that&rsquo;s constantly changing as I try new things, and naturally, debugging and ensuring correctness was a nightmare. So I started writing tests, cursing myself for needing to write so much code I&rsquo;ll likely throw away soon. But as it turns out, testing can be pretty helpful in a few other ways:</p>
<ol>
<li>When I encounter a bug I didn&rsquo;t anticipate, I already have most of the code needed to reproduce it in a deterministic manner.</li>
<li>When I want to add/change functionality, I already have most of the code needed ensure that my changes work.</li>
<li>When writing new functionality, if I don&rsquo;t already have the code needed to make ensure it&rsquo;s working, I can write a small test that <a href="https://timholy.github.io/Revise.jl/stable/user_reference/#Revise.entr">runs whenever my code changes</a>. Making this test case auto-run on a second screen dramatically reduces the amount of time spent switching windows and lets me stay in my editor until the test passes. I highly recommend setting up a run-on-change system, it makes writing tests or designing plots pretty fun.</li>
<li>You can write tests for newer code by using tests for older code. This makes tests valuable as you develop, even if you plan to throw them out later.</li>
<li>I feel more confident about what my code is actually doing. As someone who is working in AI, the value of this is immense, as AI code can run without crashing but still be subtly incorrect.</li>
</ol>
<p>I&rsquo;m not writing an exhaustive test suite, or tests for edge-cases that shouldn&rsquo;t happen (asserts can deal with those). I&rsquo;m writing code before I get bugs to spare myself the extra effort when I need to debug or make changes.</p>

        </div>
        

    


<div class="post-info">
    
        <div class="post-date dt-published">2023-01-21</div>
    

    <a class="post-hidden-url u-url" href="../../blog/unexpected-benefits-of-testing/">/blog/unexpected-benefits-of-testing/</a>
    <a href="../../" class="p-name p-author post-hidden-author h-card" rel="me">jarbus</a>


    <div class="post-taxonomies">
        
            
                <ul class="post-tags">
                    
                        
                        <li><a href="../../tags/programming/">#Programming</a></li>
                    
                </ul>
        
    </div>
</div>

    </article>

    
        
        
    

    
        
    <div class="pagination post-pagination">
        <div class="left pagination-item ">
            
                <a href="../../blog/please-make-your-website-owen/">Owen, Make Your Website Already</a>
            
        </div>
        <div class="right pagination-item ">
            
                <a href="../../blog/i-dont-know-anyone-who-blogs/">I Dont Know Anyone Who Blogs</a>
            
        </div>
    </div>




    

    
        

    

        </main>
        
            <footer class="common-footer">
    
    

    <div class="common-footer-bottom">
        
        
        
        
        
        
        

        

    




<script>
const STORAGE_KEY = 'user-color-scheme'
const defaultTheme = "dark-without-switcher"

let currentTheme
let switchButton
let autoDefinedScheme = window.matchMedia('(prefers-color-scheme: dark)')

const autoChangeScheme = e => {
    currentTheme = e.matches ? 'dark' : 'light'
    document.documentElement.setAttribute('data-theme', currentTheme)
    changeButtonText()
}

document.addEventListener('DOMContentLoaded', function() {
    switchButton = document.querySelector('.theme-switcher')
    currentTheme = detectCurrentScheme()
    if (currentTheme == 'dark') {
        document.documentElement.setAttribute('data-theme', 'dark')
    }
    if (currentTheme == 'auto') {
        autoChangeScheme(autoDefinedScheme);
        autoDefinedScheme.addListener(autoChangeScheme);
    }

    if (switchButton) {
        changeButtonText()
        switchButton.addEventListener('click', switchTheme, false)
    }
  
    showContent()
})

function detectCurrentScheme() {
    if (localStorage.getItem(STORAGE_KEY)) {
        return localStorage.getItem(STORAGE_KEY)
    } 
    if (defaultTheme) {
        return defaultTheme
    } 
    if (!window.matchMedia) {
        return 'light'
    } 
    if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        return 'dark'
    }
    return 'light'
}

function changeButtonText()
{   
    if (switchButton) {
        switchButton.textContent = currentTheme == 'dark' ?  "Light theme" : "Dark theme"
    }
}

function switchTheme(e) {
    if (currentTheme == 'dark') {
        localStorage.setItem(STORAGE_KEY, 'light')
        document.documentElement.setAttribute('data-theme', 'light')
        currentTheme = 'light'
    } else {
        localStorage.setItem(STORAGE_KEY, 'dark')
        document.documentElement.setAttribute('data-theme', 'dark')
        currentTheme = 'dark'
    }
    changeButtonText()
}

function showContent() {
    document.body.style.visibility = 'visible';
    document.body.style.opacity = 1;
}
</script>   
    </div>

    <p class="h-card vcard">

    <a href=../../ class="p-name u-url url fn" rel="me">jarbus</a> 

     
        /
        <a class="p-email u-email email" rel="me" href="mailto:jarbus@tutanota.com">jarbus@tutanota.com</a>
    

     
        <img class="u-photo" src="../../images/me.png" />
    
</p> 
</footer>

        
    </div>
</body>
</html>
