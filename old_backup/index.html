<!DOCTYPE html>
<link rel="stylesheet" type="text/css" href="index.css">
<link href="https://fonts.googleapis.com/css?family=Raleway" rel="stylesheet">
<script type="text/javascript" src="test.js"></script>
<title>Jack Garbus</title>
<!--<div class="nav">
	<h1>Navigation</h1>
	<p> <a href="test2.html">hi</a></p>
	<p> hi again </p>
</div>-->
<div class="top">
	<h1 style="color:black; text-align: left;">Jack Garbus</h1>
	<!--<hr color="black" noshade="1" width="99%" align="center">-->
	<div class="nav">
		<button class="tab" onclick="loadPage(event, 'About')" id="defaultOpen">About</button>
		<button class="tab" onclick="loadPage(event, 'Snake')" id="SnakeOpen">Snake</button>

	</div>
	<div id="About" class="tabcontent">
		<br>
		<img src="New York.jpg" width=100% height=100% style="margin-top: 3px;">
		<p>My name is Jack Garbus, and I'm a 19 year old computer science major. My hobbies include web development, computer hardware, gaming, and Reddit.</p>
		<h3>Contact information:</h3>
		<p><b>Email:</b> jackgarbus@gmail.com</p>

	</div>
	<div id="Snake" class="tabcontent">
	<canvas id="canvas" width="400" height="400" style="background-color: white; border: 1px solid black;">
	<script>
		var canvas = document.getElementById("canvas");
		var pause = true;
		var context = canvas.getContext("2d");
		var keys = []; //W:87 S:83 A:65 D:68
		var tileSize = canvas.width / 25;
		var score = 0;
		var direction = {x: 1, y: 0}
		var snake = [{x: 2, y: 0}, {x: 1, y: 0}, {x: 0, y: 0}]
		var apple = {x: 5, y: 5}
		drawScreen("Press Space to Play");
		window.addEventListener("keydown", function(e)
		{
			keys[e.keyCode] = true;
		}, true);
		window.addEventListener("keyup", function(e)
		{
			delete keys[e.keyCode];
		}, true);
		setInterval(update, 1000/10);
		function drawScreen(pausetext)
		{
			context.clearRect(0, 0, canvas.width, canvas.height);
			context.fillStyle = "black";
			context.font = "50px Arial";
			context.fillText(score, 10, 68);

			context.font = "20px Roboto";
			context.fillText(pausetext, 200, 30);
			
			context.fillStyle = "blue";
			for(var i=0; i < snake.length; i++){
				context.fillRect((snake[i].x * tileSize), (snake[i].y*tileSize), tileSize, tileSize);
			}
			context.fillStyle = "red";
			context.fillRect((apple.x * tileSize), (apple.y*tileSize), tileSize, tileSize);	
		}
		function reset()
		{
			score = 0;
			direction = {x: 1, y: 0}
			snake = [{x: 2, y: 0}, {x: 1, y: 0}, {x: 0, y: 0}]
			apple = {x: 5, y: 5}
			drawScreen("Press Space to Play");
		}
		function update()
		{
			if(document.getElementById("Snake").style.display!="none"){
			if(keys[32] && pause){
				pause = false;
			}
			else if(keys[32] && !pause){
				drawScreen("Press Space to Play");
				pause = true;
			}
			if(!pause){
			if (keys[38] && direction.y==0)
				direction = {x: 0, y:-1}
			else if (keys[40] && direction.y==0)
				direction = {x: 0, y:1}
			else if (keys[37] && direction.x==0)
				direction = {x: -1, y:0}
			else if (keys[39] && direction.x==0)
				direction = {x: 1, y:0}
			for(var i = snake.length-1; i>0; i--)
			{
				snake[i].x = snake[i-1].x;
				snake[i].y = snake[i-1].y;
			}
			snake[0].x += direction.x;
			snake[0].y += direction.y;
			if(snake[0].x == apple.x && snake[0].y == apple.y){
				score++;
				apple.x = parseInt(Math.random()*25);
				apple.y = parseInt(Math.random()*25);
				var tail = {x: snake[snake.length-1].x, y: snake[snake.length-1].y}
				console.log(snake.push(tail));
			}
			drawScreen("Press Space to Pause");
			for(var i=1; i<snake.length; i++)
			{
				if(snake[0].x == snake[i].x && snake[0].y == snake[i].y){
					reset()
					pause = true;
				}
			}
			if(snake[0].x > 24 || snake[0].y > 24 || snake[0].x < 0 || snake[0].y < 0){
					reset()
					pause = true;
			}
			
		}
		}
	}
	</script>

	</div>
	<!--
	<div id="Resume" class="tabcontent">
		<br><br>
		<p>Click <a href="Jack Garbus Resume.pdf">here</a> to open in a separate window</p>
		<iframe src="Jack Garbus Resume.html" width="100%" height="900px"></iframe>
	</div> -->
		<script>
	document.getElementById("defaultOpen").click();
</script>
</div>
</html>